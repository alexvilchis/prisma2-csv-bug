# Migration `20200326012952-initial`

This migration has been generated by Alejandro Vilchis at 3/26/2020, 1:29:52 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE `bug`.`User` (
    `createdAt` datetime(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
    `id` varchar(191) NOT NULL  ,
    `password` varchar(191) NOT NULL DEFAULT '' ,
    `updatedAt` datetime(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
    `username` varchar(191) NOT NULL DEFAULT '' ,
    PRIMARY KEY (`id`)
) 
DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `bug`.`Patient` (
    `advertisingMedia` varchar(191)   ,
    `birthDate` datetime(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
    `createdAt` datetime(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
    `email` varchar(191)   ,
    `id` varchar(191) NOT NULL  ,
    `landline` varchar(191)   ,
    `maritalStatus` ENUM('MARRIED', 'SINGLE', 'DIVORCED', 'WIDOWED', 'SEPARATED') NOT NULL DEFAULT 'MARRIED' ,
    `name` varchar(191) NOT NULL DEFAULT '' ,
    `occupation` varchar(191)   ,
    `phoneNumber` varchar(191)   ,
    `photo` varchar(191)   ,
    `points` int   ,
    `recordId` varchar(191)   ,
    `sex` ENUM('MALE', 'FEMALE', 'NON_BINARY') NOT NULL DEFAULT 'MALE' ,
    `updatedAt` datetime(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
    `user` varchar(191) NOT NULL ,
    PRIMARY KEY (`id`)
) 
DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE UNIQUE INDEX `User.username` ON `bug`.`User`(`username`)

CREATE UNIQUE INDEX `Patient.recordId` ON `bug`.`Patient`(`recordId`)

ALTER TABLE `bug`.`Patient` ADD FOREIGN KEY (`user`) REFERENCES `bug`.`User`(`id`) ON DELETE CASCADE ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration ..20200326012952-initial
--- datamodel.dml
+++ datamodel.dml
@@ -1,0 +1,49 @@
+// This is your Prisma schema file,
+// learn more about it in the docs https://pris.ly/d/prisma-schema
+
+datasource db {
+  provider = "mysql"
+  url      = env("DATABASE_URL")
+}
+
+generator client {
+  provider = "prisma-client-js"
+}
+
+
+model User {
+  id        String   @id @default(cuid())
+  createdAt DateTime @default(now())
+  updatedAt DateTime @updatedAt
+  username  String   @unique
+  password  String
+}
+
+model Patient {
+  id               String        @id @default(cuid())
+  createdAt        DateTime      @default(now())
+  updatedAt        DateTime      @updatedAt
+  recordId         String?       @unique
+  user             User
+  name             String
+  sex              Sex
+  birthDate        DateTime
+  phoneNumber      String?
+  landline         String?
+  email            String?
+  photo            String?
+  points           Int?
+  maritalStatus    MaritalStatus
+  advertisingMedia String?
+  occupation       String?
+}
+
+
+enum MaritalStatus {
+  MARRIED SINGLE DIVORCED WIDOWED SEPARATED
+}
+
+
+enum Sex {
+  MALE FEMALE NON_BINARY
+}
```


